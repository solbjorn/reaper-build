--[[------------------------------------------------------------------------------------------------
База данных живых онлайновых объектов, зон и рестрикторов, актёра
Чугай Александр
--------------------------------------------------------------------------------------------------]]

zone_by_name        = {}
storage             = {}
actor               = nil
actor_proxy         = actor_proxy.actor_proxy()
heli                = {}
story_by_id         = {}
trader        = nil
info_restr          = {}

creatures={}

function add_obj( obj )
  creatures[obj:id()]=obj
end

function del_obj( obj )
  storage   [obj:id()] = nil
  creatures[obj:id()]=nil
end

function add_zone( zone )
  zone_by_name[zone:name()] = zone
  add_obj( zone )
end

function del_zone( zone )
  zone_by_name[zone:name()] = nil
  del_obj( zone )
end

function add_actor( obj )
	_G.db_actor = obj
	_G.db_actor_id = obj:id()

  actor = obj
  actor_proxy:net_spawn( obj )
  add_obj( obj )
end

function del_actor()
  del_obj( actor )
  actor_proxy:net_destroy()
  actor = nil

	_G.db_actor_id = 0
	_G.db_actor = nil
end

function add_heli(obj)
  heli[obj:id()] = obj
end
function del_heli(obj)
  heli[obj:id()] = nil
end
